{% extends "base.html" %}

{% block title %}Advanced Analytics - Coffee Shop Sales{% endblock %}

{% block content %}
<h1 class="page-title">游댧 Advanced Analytics</h1>

<!-- Distribuci칩n Temporal -->
<div class="row mb-4">
    <div class="col-12">
        <div class="chart-container">
            <h5>Distribuci칩n de Ventas por Tienda en el Tiempo</h5>
            <p class="text-muted">Visualizaci칩n de la intensidad de ventas desde Enero a Junio</p>
            <div id="chartDistribucion"></div>
        </div>
    </div>
</div>

<!-- Evoluci칩n Temporal Avanzada -->
<div class="row mb-4">
    <div class="col-12">
        <div class="chart-container">
            <h5>游늳 An치lisis de Tendencia Diaria</h5>
            <div id="chartEvolucion"></div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-12">
        <div class="alert alert-info" role="alert">
            <h5>游눠 Insights del An치lisis Avanzado</h5>
            <ul class="mb-0">
                <li>El gr치fico de 치rea muestra c칩mo las ventas se distribuyen entre tiendas a lo largo del tiempo.</li>
                <li>La tendencia diaria combina ventas totales con el ticket promedio para identificar patrones de comportamiento.</li>
                <li>Los picos en ambos gr치ficos pueden indicar d칤as especiales, promociones o eventos externos.</li>
            </ul>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    var graphDistribucion = {{ graph_distribucion|safe }};
    var graphEvolucion = {{ graph_evolucion|safe }};
    
    Plotly.newPlot('chartDistribucion', graphDistribucion.data, graphDistribucion.layout, {responsive: true});
    Plotly.newPlot('chartEvolucion', graphEvolucion.data, graphEvolucion.layout, {responsive: true});
</script>
{% endblock %}
